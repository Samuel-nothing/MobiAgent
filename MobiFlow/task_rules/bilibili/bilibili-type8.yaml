task_id: bilibili_video_comment
app_id: tv.danmaku.bili
task_type: social_interaction
description: åœ¨Bilibiliåº”ç”¨ä¸­æœç´¢æŒ‡å®šè§†é¢‘å¹¶å‘è¡¨è¯„è®º
nodes:
# - id: launch_app
#   name: å¯åŠ¨åº”ç”¨
#   condition:
#     type: escalate
#     params:
#       ocr:
#         any: ["æ¨è", "é¦–é¡µ", "åŠ¨æ€", "æˆ‘çš„", "å¤§ä¼šå‘˜"]
#       llm:
#         prompt: å½“å‰ç•Œé¢æ˜¯å¦ä¸ºBilibiliåº”ç”¨çš„ä¸»ç•Œé¢ï¼Ÿ
#         expected_true: true
#   next: [enter_search]
# - id: enter_search
#   name: è¿›å…¥æœç´¢ç•Œé¢
#   condition:
#     type: escalate
#     params:
#       ocr:
#         any: ["æœç´¢", "ğŸ”", "æ’è¡Œæ¦œ", "æ¸¸æˆä¸­å¿ƒ"]
#       llm:
#         prompt: ç”¨æˆ·æ˜¯å¦å·²ç»ç‚¹å‡»æœç´¢å›¾æ ‡ï¼Œè¿›å…¥äº†æœç´¢è¾“å…¥ç•Œé¢ï¼Ÿ
#         expected_true: true
#   next: [input_keyword_and_search]
# - id: input_keyword_and_search
#   name: è¾“å…¥å…³é”®è¯å¹¶æœç´¢
#   condition:
#     type: escalate
#     params:
#       ocr:
#         any: ["æœç´¢å†å²", "æœç´¢å‘ç°", "ç»¼åˆ", "ç•ªå‰§", "è§†é¢‘", "ç”¨æˆ·"]
#       llm:
#         prompt: ç”¨æˆ·æ˜¯å¦æ ¹æ®ä»»åŠ¡è¦æ±‚è¾“å…¥äº†è§†é¢‘å…³é”®è¯å¹¶æ‰§è¡Œäº†æœç´¢ï¼Œç•Œé¢ä¸Šæ˜¯å¦å±•ç¤ºäº†æœç´¢ç»“æœåˆ—è¡¨ï¼Ÿ
#         expected_true: true
#   next: [select_video_from_results]

# å‰é¢å¯ä»¥å¢åŠ æ›´å¤šçš„èŠ‚ç‚¹ï¼Œé™åˆ¶è·¯å¾„

- id: select_video_detail
  name: è¿›å…¥è§†é¢‘æ’­æ”¾è¯¦æƒ…é¡µ
  condition:
    type: juxtaposition
    params:
      ocr:
        all: ["ç®€ä»‹", "è¯„è®º", "ç‚¹æˆ‘å‘å¼¹å¹•"]
      llm:
        prompt: å½“å‰æ˜¯å¦æˆåŠŸè¿›å…¥äº†ç›®æ ‡è§†é¢‘çš„æ’­æ”¾é¡µé¢ï¼Ÿ
        expected_true: true
  next: [enter_comment_section]

- id: enter_comment_section
  name: è¿›å…¥è¯„è®ºåŒºæˆ–ç‚¹å‡»è¯„è®ºæ¡†
  condition:
    type: escalate
    params:
      ocr:
        all: ["ç®€ä»‹","è¯„è®º","çƒ­é—¨è¯„è®º"]
      llm:
        prompt: æ˜¯å¦å·²ç»è¿›å…¥ä»»åŠ¡æè¿°`{task_description}`çš„è§†é¢‘è¯„è®ºé¡µé¢ï¼Œå¹¶åœ¨é¡µé¢å†…çœ‹åˆ°è¯„è®ºæ¡†ï¼Ÿ
        expected_true: true
  next: [input_and_publish_comment]

- id: input_and_publish_comment
  name: è¾“å…¥å¹¶å‘è¡¨è¯„è®º
  condition:
    type: juxtaposition
    params:
      ocr:
        all: ["å‘å¸ƒ", "è½¬åˆ°åŠ¨æ€"]
      llm:
        prompt: ç”¨æˆ·æ˜¯å¦åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥äº†ä¸ä»»åŠ¡æè¿°ä¸€è‡´çš„è¯„è®ºå†…å®¹ï¼Œç­‰å¾…å‘é€ï¼Ÿ
        expected_true: true
  # next: [verify_comment_published]

# - id: verify_comment_published
#   name: éªŒè¯è¯„è®ºå‘å¸ƒæˆåŠŸ
#   condition:
#     type: juxtaposition
#     params:
#       ocr:
#         any: ["å‘å¸ƒæˆåŠŸ", "è¯„è®ºå‘é€æˆåŠŸ", "å®¡æ ¸", "æˆ‘çš„è¯„è®º", "åˆ é™¤", "æ’¤å›"]
#       llm:
#         prompt: ç•Œé¢ä¸Šæ˜¯å¦å‡ºç°äº†è¯„è®ºå‘å¸ƒæˆåŠŸçš„æç¤ºï¼Œæˆ–è€…åœ¨è¯„è®ºåŒºèƒ½çœ‹åˆ°ç”¨æˆ·åˆšåˆšå‘å¸ƒçš„ã€ä¸ä»»åŠ¡æè¿°å†…å®¹ä¸€è‡´çš„è¯„è®ºï¼Ÿ
#         expected_true: true

success:
  any_of: [input_and_publish_comment]
